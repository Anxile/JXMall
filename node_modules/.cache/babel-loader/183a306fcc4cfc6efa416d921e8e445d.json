{"ast":null,"code":"import _objectSpread from \"D:/\\u7B54\\u8FA9\\u9879\\u76EE/shangpinhuishop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nexport default {\n  name: 'Header',\n  data: function data() {\n    return {\n      keyword: ''\n    };\n  },\n  methods: {\n    // 点击登录\n    goSearch: function goSearch() {\n      if (this.$route.query) {\n        var location = {\n          name: 'search',\n          params: {\n            keyword: this.keyword || undefined\n          }\n        };\n        location.query = this.$route.query; // query: { k: this.keyword.toUpperCase() },\n\n        console.log(location);\n        this.$router.push(location);\n      }\n    },\n    // 点击退出登录\n    logOut: function logOut() {\n      //退出登录需要做的事情\n      //1:需要发请求，通知服务器退出登录【清除一些数据：token】\n      //2:清除项目当中的数据【userInfo、token】\n      try {\n        this.$store.dispatch('logout'); // 跳转到首页\n\n        this.$router.push('/home');\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n  },\n  computed: _objectSpread({}, mapState({\n    userName: function userName(state) {\n      return state.user.userInfo.name;\n    }\n  })),\n  mounted: function mounted() {\n    var _this = this;\n\n    // 通过全局事件总线清除关键字\n    this.$bus.$on('clearkeyword', function () {\n      _this.keyword = undefined;\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACAA,gBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AADA;AAGA,GANA;AAOAC;AACA;AACAC,YAFA,sBAEA;AACA;AACA;AACAJ,wBADA;AAEAK;AAAAH;AAAA;AAFA;AAIAI,2CALA,CAMA;;AAEAC;AAEA;AACA;AACA,KAfA;AAgBA;AACAC,UAjBA,oBAiBA;AACA;AACA;AACA;AAEA;AACA,uCADA,CAEA;;AACA;AACA,OAJA,CAIA;AACAD;AACA;AACA;AA7BA,GAPA;AAsCAE,8BACAC;AACAC;AAAA;AAAA;AADA,IADA,CAtCA;AA2CAC,SA3CA,qBA2CA;AAAA;;AACA;AACA;AACA;AACA,KAFA;AAGA;AAhDA","names":["name","data","keyword","methods","goSearch","params","location","console","logOut","computed","mapState","userName","mounted"],"sourceRoot":"src/components","sources":["Header.vue"],"sourcesContent":["<template>\r\n  <!-- 头部 -->\r\n  <header class=\"header\">\r\n    <!-- 头部的第一行 -->\r\n    <div class=\"top\">\r\n      <div class=\"container\">\r\n        <div class=\"loginList\">\r\n          <p>京喜欢迎您！</p>\r\n          <p v-if=\"!userName\">\r\n            <span>请</span>\r\n            <router-link to=\"/login\">登录</router-link>\r\n            <router-link to=\"/Register\" class=\"register\">免费注册</router-link>\r\n          </p>\r\n          <p v-else>\r\n            <a>{{ userName }}</a>\r\n            <a @click=\"logOut\">退出登录</a>\r\n          </p>\r\n        </div>\r\n        <div class=\"typeList\">\r\n          <router-link to=\"/center/myorder\">我的订单</router-link>\r\n          <router-link to=\"/shopcart\">我的购物车</router-link>\r\n          <a href=\"###\">我的京喜</a>\r\n          <a href=\"###\">京喜会员</a>\r\n          <a href=\"###\">企业采购</a>\r\n          <a href=\"###\">关注京喜</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--头部第二行 搜索区域-->\r\n    <div class=\"bottom\">\r\n      <h1 class=\"logoArea\">\r\n        <router-link to=\"/home\" class=\"logo\" title=\"京喜\">\r\n          <img src=\"./images/logo.png\" alt=\"\" />\r\n        </router-link>\r\n      </h1>\r\n      <div class=\"searchArea\">\r\n        <form action=\"###\" class=\"searchForm\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"autocomplete\"\r\n            class=\"input-error input-xxlarge\"\r\n            v-model=\"keyword\"\r\n          />\r\n          <button class=\"sui-btn btn-xlarge btn-danger\" type=\"button\" @click=\"goSearch\">\r\n            搜索\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nexport default {\r\n  name: 'Header',\r\n  data() {\r\n    return {\r\n      keyword: '',\r\n    };\r\n  },\r\n  methods: {\r\n    // 点击登录\r\n    goSearch() {\r\n      if (this.$route.query) {\r\n        let location = {\r\n          name: 'search',\r\n          params: { keyword: this.keyword || undefined },\r\n        };\r\n        location.query = this.$route.query;\r\n        // query: { k: this.keyword.toUpperCase() },\r\n\r\n        console.log(location)\r\n\r\n        this.$router.push(location);\r\n      }\r\n    },\r\n    // 点击退出登录\r\n    logOut() {\r\n      //退出登录需要做的事情\r\n      //1:需要发请求，通知服务器退出登录【清除一些数据：token】\r\n      //2:清除项目当中的数据【userInfo、token】\r\n\r\n      try {\r\n        this.$store.dispatch('logout');\r\n        // 跳转到首页\r\n        this.$router.push('/home');\r\n      } catch (error) {\r\n        console.log(error.message);\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      userName: (state) => state.user.userInfo.name,\r\n    }),\r\n  },\r\n  mounted() {\r\n    // 通过全局事件总线清除关键字\r\n    this.$bus.$on('clearkeyword', () => {\r\n      this.keyword = undefined;\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.header {\r\n  & > .top {\r\n    background-color: #eaeaea;\r\n    height: 30px;\r\n    line-height: 30px;\r\n\r\n    .container {\r\n      width: 1200px;\r\n      margin: 0 auto;\r\n      overflow: hidden;\r\n\r\n      .loginList {\r\n        float: left;\r\n\r\n        p {\r\n          float: left;\r\n          margin-right: 10px;\r\n\r\n          .register {\r\n            border-left: 1px solid #b3aeae;\r\n            padding: 0 5px;\r\n            margin-left: 5px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .typeList {\r\n        float: right;\r\n\r\n        a {\r\n          padding: 0 10px;\r\n\r\n          & + a {\r\n            border-left: 1px solid #b3aeae;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  & > .bottom {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n    overflow: hidden;\r\n\r\n    .logoArea {\r\n      float: left;\r\n\r\n      .logo {\r\n        img {\r\n          width: 175px;\r\n          margin: 25px 45px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .searchArea {\r\n      float: right;\r\n      margin-top: 35px;\r\n\r\n      .searchForm {\r\n        overflow: hidden;\r\n\r\n        input {\r\n          box-sizing: border-box;\r\n          width: 490px;\r\n          height: 32px;\r\n          padding: 0px 4px;\r\n          border: 2px solid #ea4a36;\r\n          float: left;\r\n\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n        }\r\n\r\n        button {\r\n          height: 32px;\r\n          width: 68px;\r\n          background-color: #ea4a36;\r\n          border: none;\r\n          color: #fff;\r\n          float: left;\r\n          cursor: pointer;\r\n\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>  "]},"metadata":{},"sourceType":"module"}